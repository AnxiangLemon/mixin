# mixin
websocket聊天

--2018.12.10
完成图片和语音发送
完成

已完成文字聊天 表情可以发送搜狗表情

图片和语音下个版本更新
目前正在搭建UI

12.3~12.6
git remote add origin git@github.com:AnxiangLemon/mixin.git

C:\Program Files (x86)\Common Files\Oracle\Java\javapath;C:\ProgramData\Oracle\Java\javapath;c:\Program Files (x86)\Intel\iCLS Client\;c:\Program Files\Intel\iCLS Client\;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;C:\android\adt-bundle-windows-x86_64_20140101\sdk\platform-tools;C:\android\adt-bundle-windows-x86_64_20140101\sdk\tools;C:\Program Files (x86)\GtkSharp\2.12\bin;C:\android\Java\jdk\bin;D:\AndroidSDK\platform-tools;D:\Git\cmd;MAVAEN_HOME%MAVEN_HOME%\bin;



   <!-- 配置远程仓库 -->
    <repositories>
        <repository>
            <id>jboss</id>
            <name>JBoss Repository</name>
            <url></url>
            <releases>
                <enabled>true</enabled>
                <updatePolicy>daily</updatePolicy>
             </releases>
             <snapshots>
                 <enabled>false</enabled>
              <checksumPolicy>warn</checksumPolicy>
           </snapshots>
           <layout>default</layout>
         </repository>
    </repositories>
	
	
	npm config set prefix "D:\Program Files\nodejs\node_global"npm config set cache "D:\Program Files\nodejs\node_cache"
	
20181220
vue实战
201901 redis
201902 java实战


#[mysql]  
#basedir=/usr/local/mysql/  
#datadir=/usr/local/mysql/data/ 

[mysql] 
# 设置mysql客户端默认字符集 
default-character-set=utf8  
socket=/var/lib/mysql/mysql.sock 

[mysqld] 
#skip-name-resolve 
#设置3306端口 
port = 3306  
socket=/var/lib/mysql/mysql.sock 
# 设置mysql的安装目录 
basedir=/usr/local/mysql 
# 设置mysql数据库的数据的存放目录 
datadir=/usr/local/mysql/data 
# 允许最大连接数 
max_connections=200 
# 服务端使用的字符集默认为8比特编码的latin1字符集 
character-set-server=utf8 
# 创建新表时将使用的默认存储引擎 
default-storage-engine=INNODB 
#lower_case_table_name=1 
max_allowed_packet=16M

./mysqld --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --initialize
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 
 
 
 
 
 
 
 
 
 172.16.10.105
 
未完成
发送图片 发送语音
如何修复 html代码发送的问题  (字符替换)

12.7
<!--

    【云云无情，腾腾有爱】

    如果你没有100个“往来”好友，那就来腾讯领红包吧！红包精彩，腾讯更精彩！
    http://www.ipresst.com/jointencent

    -------------华丽的分割线-------------

    【前端特工】

    “据内线消息，TX公司将于近期推出一个新的HTML5重磅产品。
    公司担心该产品会带来威胁，特命你潜入TX，探查底细……”
    http://codestar.alloyteam.com
	
	
			/* 时间显示 */
		
			/* 长按复制 */
	/* 		.friend_lists p{
 -webkit-touch-callout:none;
-webkit-user-select:all;
 -khtml-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;

} */

发出去的字符 首先通过字符替换然后发送到后台
换行的

<textarea id="textarea"  oninput="autoTextarea(this)">
			<img src="../css/registLogin/arrow.png" >
			123456<br/>&#13;dfasf&#13;你好世界</textarea>

 
 <br/>&nbsp;&nbsp;&lt;textarea&nbsp;id=&quot;textarea&quot;&nbsp;&nbsp;oninput=&quot;autoTextarea(this)&quot;&gt;<br/>&nbsp;&nbsp;&nbsp;&lt;img&nbsp;src=&quot;../css/registLogin/arrow.png&quot;&nbsp;&gt;<br/>&nbsp;&nbsp;&nbsp;123456&lt;br/&gt;&#13;dfasf&#13;你好世界&lt;/textarea&gt;","msgId":null},"extand":null}

 
<a href="http://www.mcy520.cn">baidu</a>
	ChatHistory: function(myId, friendId, msg, flag,msgtype) {
		this.myId = myId;
		this.friendId = friendId;
		this.msg = msg;
		this.flag = flag;
		this.msgType = msgtype;
	},

	
git remote add origin git@github.com:AnxiangLemon/mixin.git
 
 在开发移动端的应用时，会用到很多的手势操作，比如滑动、长按等，为了方便开放者快速集成这些手势，mui内置了常用的手势事件，目前支持的手势事件见如下列表：

复制代码
点击     
tap     　　　　单击屏幕
doubletap      双击屏幕
长按     
longtap     　　长按屏幕
hold     　　　 按住屏幕
release     　　离开屏幕
滑动     
swipeleft    　 向左滑动
swiperight      向右滑动
swipeup     　　向上滑动
swipedown     　向下滑动
拖动     
dragstart     　开始拖动
drag     　　　　拖动中
dragend     　　拖动结束


fire 比 evalJS 好用
可以在内部调用  另一个只能在外部


 data:image/jepg;base64,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
 
 
 可以使用如下方法代替 
 File file = new File("/path/to/file");
 FileItem fileItem = new DiskFileItem("mainFile", Files.probeContentType(file.toPath()), false, file.getName(), (int) file.length(), file.getParentFile()); 
 try { InputStream input = new FileInputStream(file); OutputStream os = fileItem.getOutputStream(); IOUtils.copy(input, os); // Or faster.. // IOUtils.copy(new FileInputStream(file), fileItem.getOutputStream()); } catch (IOException ex) { // do something. } MultipartFile multipartFile = new CommonsMultipartFile(fileItem);

 
 /* if(){
						 tmpmsg = tmpmsg.replace(/<br\/>/g, "\r\n")
					}else if(){
						tmpmsg = "【图片消息】";
					}else if(){
						tmpmsg = "【语言消息】";
					}else {
						tmpmsg = "【其他类型消息】";
					} */
					
2018/12/10
解决HTML代码
解决图片发送 通过base64发送  但是上传缓慢~~ 到时候可能需要只改图片内存大小以及设置图片内存大小
解决语音发送 

发送图片后 不会滚动到最底部 
					